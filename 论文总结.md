### 新型激光雷达的地图构建与障碍物识别（用于智能驾驶，陆地移动机器人）

#### 问题

###### 1.新型激光雷达的花瓣型点图案有别于传统雷达，需要新的三维高精地图搭建方法

###### 2.建立行人车辆不同障碍的识别方法

![image-20250120194302105](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120194302105.png)

![image-20250120194347636](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120194347636.png)

​                                                                      固态激光雷达花瓣扫描



### 三维环境建模方法

##### 1.特征提取

初始点云原始数据导入ros节点，计算每个单独点的特征![image-20250120194846213](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120194846213.png)

舍弃视野边缘的点（特征提取结果差）

舍弃反射强度过大，过小的点

入射角180°或0°的点

隐藏在物体后的点（误判断为被测物体的边缘）

![image-20250120195143256](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120195143256.png)

​                                                                         e为应藏在物体后的点

#### 基于k-d的快速领域搜索（处理边缘特征和平面特征）

当前帧的边缘特征集合；当前地图的边缘特征集合

从当前地图中的边缘集合中，找出五个最近点来计算当前帧的边缘特征点。

#### 点云匹配位姿估计

##### 使用迭代姿态优化进行位姿估计

假设点1是当前帧的点，点1处于雷达当前这一帧图像中，点2是全局地图中的点，找到全局地图中离点1最近的点。

本文使用当前帧的所有点都用最近点的姿态来计算，投影到全局地图中

![image-20250120200826266](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120200826266.png)

#### 地图构建

在rviz中实现上述特征提取，位姿估计的地图构建方法

地图验证

截取校园地图，与建好的地图进行对比![image-20250120201448479](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120201448479.png)

gps精度对比，选定某点的道路宽度对比，选定点的障碍物位置对比

![image-20250120201631523](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120201631523.png)

![image-20250120201641802](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120201641802.png)

### 点云分割与障碍识别

#### 常用的地面点云分割方法

##### 1.基于平面拟合的地面分割

根据点云数据拟合出一个平面模型在描述当前地面

##### 2.基于距离的分割方法

激光束与激光雷达旋转轴成一定角度，且角度不变，若扫描的是地面，则获得的相邻测量点的距离是不变的，若扫描障碍物，实际距离比理论扫描值要小

![image-20250120202254093](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120202254093.png)

地面不是理想化的平面，实际距离，实际距离插相对于理论距离，理论距离差在一定范围内，对应测量点判定为地面测量点。分割地面点云

#### 基于随机采样一致性分割

将单帧图像中所有点作为样本，地面点作为“局内”样本，障碍物测量为“局外”。

假定“局内”是平面模型，通过迭代计算描述地面的最佳平面模型，模型对应的“局内”样本点为地面点

### 

### 基于高度的分割方法

#### 激光雷达扫描出的地面点基本分布在同一高度的面上，z轴坐标分布在同一数值附近，利用这个特性对地面进行分割![image-20250120203447007](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120203447007.png)

​     粗糙水泥地，灌木丛场景分割



### 物体的聚类

聚类是按照某个特定标准把一个数据集分割成不同的类，使同 一类内的数据对象的相似性尽可能大，同时不在同一个簇中的数据对象的差异 性也尽可能地大，使得聚类后同一类的数据尽可能聚集到一起，不同类数据尽量分离。

##### 基本划分聚类

  基本划分聚类是一种最简单基础的聚类算法。基本划分聚类一般需要创建一 个原始的划分类，一次性划分为数量确定的簇，并分配元素到不同的簇内，而且每 个元素有且仅有一个归属的簇。

##### 基于密度的聚类  

这种方法的流程是首先任意选择一个元素，如果这个元素的一定范围内的领域密度大于一定阈值，那么就将这个元素及其领域划分进一个簇内

##### 基于网格的聚类

  基于网格的聚类方法的原理是将数据空间划分为网格单元，将数据对象集映 射到网格单元中，并计算每个单元的密度。根据预设的阈值判断每个网格单元是否 为高密度单元，由邻近的稠密单元组形成一类。 





## 快速可通过行评估，野外视觉导航

### 现状：树木，树枝，草丛错误的感知为刚性障碍物，森林，草原等自然环境下的导航具有挑战

### 研究方法

系统概述：设计一个导航系统，使用在线学习的神经网络，以自我监督的方式利用机器人在环境交互下生成标签，从rgb图像中估计密度的可传越性



##### 特征提取

给定rgb图像，首先提取密集的像素特征图，利用DINO的方法训练视觉转换器。这类方法可以标记有意义的语义信息，不需要标签。![image-20250120213150954](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120213150954.png)

​                                    提取过程

#### 可传越性分数生成

使用机器人当前线性速度与外部人工操作员或规划系统给出的参考速度命令之间的差异。当机器人在易于穿越的地形上移动时，它应该紧密跟踪参考命令。相反，如果机器人难以跟踪参考，差异就会增大，我们可以将其解释为不太易于穿越的地形。

#### 监督图和任务图

监督图：监督图储存当前时间，机器人和估计的可传越行得分信息。存储的信息是具有可遍历性分数τ的足迹轨迹，用于事后生成监督信号，这些信号被 重新投影到先前的摄像机视点上

人物图：任务图存储了学习任务所需的所有信息。如果与最后添加的节 点的距离大于dmis，则在特征提取后将任务节点添加到图中。每个任务节点包含 RGB  图像 I、弱分割掩码 M 和每个分段特征fn及其相应的可遍历性监督τn。

![image-20250120213800748](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120213800748.png)

#### 可通过性和异常状态分析

在线方式训练一个小型神经网络，该网络可根据给定的片段特征fn  确定特征可遍历性分数τn。以通过仅推断这些片段，从完整图像预测机 器人前方场景的可遍历性。通过使用异常检测技术来引导置信度估计，模拟未访问区域的不确定性。



### 实验结果

1.系统学会了预测机器人在 3 个循环中的可穿越性。部分a显示了机器人在经过 9 步训练后如何从非常差的分割开始，这 种情况在 800 步后得到了很大的改善，它可以正确地将泥土分割为可穿越的地形，同时保持树木不可穿越。

![image-20250120214339122](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120214339122.png)

2.输出可穿越性地图，以及由此生成的相应SDF 。 使用几何方法正确地将树木确定为不可穿越区域。

![image-20250120214525320](C:\Users\arche\AppData\Roaming\Typora\typora-user-images\image-20250120214525320.png)